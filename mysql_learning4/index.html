<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <title>MySQL学习4 - Boyan Wei</title><meta name="Description" content="这是我的全新 Hugo 网站"><meta property="og:title" content="MySQL学习4" />
<meta property="og:description" content="DQL 查询数据（最重点） 以上所有的顺序不能颠倒 数据库查询语言（Data Query Language：数据查询语言） 所有的查询语言都用：select 简单查询" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://swaggerwei.github.io/mysql_learning4/" /><meta property="og:image" content="https://swaggerwei.github.io/logo.png"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-06-15T19:50:15+08:00" />
<meta property="article:modified_time" content="2022-06-15T19:50:15+08:00" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://swaggerwei.github.io/logo.png"/>

<meta name="twitter:title" content="MySQL学习4"/>
<meta name="twitter:description" content="DQL 查询数据（最重点） 以上所有的顺序不能颠倒 数据库查询语言（Data Query Language：数据查询语言） 所有的查询语言都用：select 简单查询"/>
<meta name="application-name" content="LoveIt">
<meta name="apple-mobile-web-app-title" content="LoveIt"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://swaggerwei.github.io/mysql_learning4/" /><link rel="prev" href="https://swaggerwei.github.io/leetcode_recite3/" /><link rel="next" href="https://swaggerwei.github.io/mysql_learning5/" /><link rel="stylesheet" href="/lib/normalize/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"><link rel="stylesheet" href="/lib/animate/animate.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "MySQL学习4",
        "inLanguage": "zh-CN",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/swaggerwei.github.io\/mysql_learning4\/"
        },"genre": "posts","keywords": "SQL, mysql, navicat","wordcount":  7676 ,
        "url": "https:\/\/swaggerwei.github.io\/mysql_learning4\/","datePublished": "2022-06-15T19:50:15+08:00","dateModified": "2022-06-15T19:50:15+08:00","publisher": {
            "@type": "Organization",
            "name": ""},"author": {
                "@type": "Person",
                "name": "Boyan Wei"
            },"description": ""
    }
    </script></head>
    <body header-desktop="fixed" header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="Boyan Wei"></a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> 文章 </a><a class="menu-item" href="/tags/"> 标签 </a><a class="menu-item" href="/categories/"> 分类 </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="搜索文章标题或内容..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="搜索">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="清空">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="Boyan Wei"></a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="搜索文章标题或内容..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="搜索">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="清空">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        取消
                    </a>
                </div><a class="menu-item" href="/posts/" title="">文章</a><a class="menu-item" href="/tags/" title="">标签</a><a class="menu-item" href="/categories/" title="">分类</a><a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                <i class="fas fa-adjust fa-fw"></i>
            </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">目录</h2>
            <div class="toc-content always-active" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animated flipInX">MySQL学习4</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/" title="Author" rel=" author" class="author"><i class="fas fa-user-circle fa-fw"></i>Boyan Wei</a></span>&nbsp;<span class="post-category">收录于 <a href="/categories/mysql%E5%AD%A6%E4%B9%A0/"><i class="far fa-folder fa-fw"></i>MySQL学习</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="2022-06-15">2022-06-15</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;约 7676 字&nbsp;
                <i class="far fa-clock fa-fw"></i>&nbsp;预计阅读 16 分钟&nbsp;</div>
        </div><div class="details toc" id="toc-static"  kept="">
                <div class="details-summary toc-title">
                    <span>目录</span>
                    <span><i class="details-icon fas fa-angle-right"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#dql-查询数据最重点">DQL 查询数据（最重点）</a>
      <ul>
        <li><a href="#指定查询字段">指定查询字段</a></li>
        <li><a href="#去重-distinct">去重 distinct</a></li>
        <li><a href="#数据库的列表达式">数据库的列（表达式）</a></li>
        <li><a href="#where-条件子句">where 条件子句</a></li>
        <li><a href="#模糊查询比较运算符">模糊查询：比较运算符</a>
          <ul>
            <li><a href="#like">like</a></li>
            <li><a href="#in">in</a></li>
            <li><a href="#null--not-null">null / not null</a></li>
          </ul>
        </li>
        <li><a href="#联表查询">联表查询</a>
          <ul>
            <li><a href="#代码实战">代码实战</a></li>
          </ul>
        </li>
        <li><a href="#自连接">自连接</a></li>
        <li><a href="#分页和排序">分页和排序</a>
          <ul>
            <li><a href="#排序升序-asc-降序-desc">排序：升序 ASC 降序 DESC</a></li>
            <li><a href="#分页">分页</a></li>
          </ul>
        </li>
        <li><a href="#子查询">子查询</a></li>
        <li><a href="#mysql函数">MySQL函数</a>
          <ul>
            <li><a href="#常用函数">常用函数</a></li>
          </ul>
        </li>
        <li><a href="#聚合函数">聚合函数</a></li>
      </ul>
    </li>
    <li><a href="#数据库级别的-md5码加密">数据库级别的 MD5码加密</a></li>
    <li><a href="#事务的处理过程">事务的处理过程</a>
      <ul>
        <li><a href="#模拟场景">模拟场景</a></li>
      </ul>
    </li>
    <li><a href="#索引">索引</a>
      <ul>
        <li><a href="#基础语法">基础语法</a></li>
        <li><a href="#测试索引">测试索引</a></li>
        <li><a href="#索引原则">索引原则</a></li>
        <li><a href="#索引的数据结构">索引的数据结构</a></li>
      </ul>
    </li>
    <li><a href="#规范的数据库设计">规范的数据库设计</a>
      <ul>
        <li><a href="#糟糕的数据库设计">糟糕的数据库设计</a></li>
        <li><a href="#良好的数据库设计">良好的数据库设计</a></li>
        <li><a href="#软件开发过程中关于数据库的设计">软件开发过程中，关于数据库的设计</a></li>
        <li><a href="#设计数据库的步骤个人博客为例">设计数据库的步骤（个人博客为例）</a>
          <ul>
            <li><a href="#收集信息分析需求">收集信息，分析需求</a></li>
            <li><a href="#概要设计e-r图">概要设计，E-R图</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#jdbc">JDBC</a>
      <ul>
        <li><a href="#数据库驱动">数据库驱动</a></li>
        <li><a href="#jdbc-1">JDBC</a></li>
        <li><a href="#第一个jdbc-程序">第一个JDBC 程序</a>
          <ul>
            <li><a href="#代码实战-1">代码实战</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><h2 id="dql-查询数据最重点">DQL 查询数据（最重点）</h2>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/images_sql/pic10.png"
        data-srcset="/images_sql/pic10.png, /images_sql/pic10.png 1.5x, /images_sql/pic10.png 2x"
        data-sizes="auto"
        alt="/images_sql/pic10.png"
        title="/images_sql/pic10.png" /></p>
<ul>
<li>以上所有的顺序不能颠倒</li>
<li>数据库查询语言（Data Query Language：数据查询语言）</li>
<li>所有的查询语言都用：select</li>
<li>简单查询，复杂查询都可以做</li>
<li><strong>数据库中最核心的语言，使用频率最高</strong></li>
</ul>
<h3 id="指定查询字段">指定查询字段</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="w">
</span><span class="w"></span><span class="c1">-- 查询全部的学生  SELECT 字段 FROM 表
</span><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="o">`</span><span class="n">student</span><span class="o">`</span><span class="w">
</span><span class="w"></span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="o">`</span><span class="k">result</span><span class="o">`</span><span class="w">
</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c1">-- 查询指定字段
</span><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="o">`</span><span class="n">StudentNo</span><span class="o">`</span><span class="p">,</span><span class="o">`</span><span class="n">StudentName</span><span class="o">`</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="o">`</span><span class="n">student</span><span class="o">`</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c1">-- 给结果字段或者表取一个名字 AS
</span><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="o">`</span><span class="n">StudentNo</span><span class="o">`</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="err">学号</span><span class="p">,</span><span class="o">`</span><span class="n">StudentName</span><span class="o">`</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="err">学生姓名</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="o">`</span><span class="n">student</span><span class="o">`</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">s</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c1">-- 函数 concat(a, b)
</span><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="n">CONCAT</span><span class="p">(</span><span class="s1">&#39;姓名：&#39;</span><span class="p">,</span><span class="w"> </span><span class="o">`</span><span class="n">StudentName</span><span class="o">`</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="err">新名字</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="o">`</span><span class="n">student</span><span class="o">`</span><span class="w">
</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><ul>
<li>列名字意义不明确，可以用as 起别名</li>
</ul>
<h3 id="去重-distinct">去重 distinct</h3>
<ul>
<li>去除select 查询结果中重复的数据，只显示一条</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="c1">-- 查询一下哪些同学参加了考试，成绩
</span><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="k">result</span><span class="w"> </span><span class="c1">-- 查询全部成绩
</span><span class="c1">-- 查询哪些同学参加了考试
</span><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="o">`</span><span class="n">StudentNo</span><span class="o">`</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="k">result</span><span class="w"> </span><span class="c1">-- 查询哪些同学参加了考试
</span><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="k">DISTINCT</span><span class="w"> </span><span class="o">`</span><span class="n">StudentNo</span><span class="o">`</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="k">result</span><span class="w"> </span><span class="c1">-- 去重 
</span></code></pre></td></tr></table>
</div>
</div><h3 id="数据库的列表达式">数据库的列（表达式）</h3>
<ul>
<li>数据库中的表达式： 文本、列、null、函数、计算表达式、系统变量</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="k">SELECT</span><span class="w"> </span><span class="k">VERSION</span><span class="p">()</span><span class="w"> </span><span class="c1">-- 查看系统版本-函数
</span><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="mi">100</span><span class="o">*</span><span class="mi">3</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="err">计算结果</span><span class="w"> </span><span class="c1">-- 计算-表达式
</span><span class="c1"></span><span class="k">select</span><span class="w"> </span><span class="o">@@</span><span class="n">auto_increment_increment</span><span class="w"> </span><span class="c1">-- 查询自增步长-变量
</span><span class="c1"></span><span class="w">
</span><span class="w"></span><span class="c1">-- 查询学员考试成绩加1
</span><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="o">`</span><span class="n">StudentNo</span><span class="o">`</span><span class="p">,</span><span class="w"> </span><span class="o">`</span><span class="n">StudentResult</span><span class="o">`</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="k">result</span><span class="w">
</span><span class="w"></span><span class="k">SELECT</span><span class="w"> </span><span class="o">`</span><span class="n">StudentNo</span><span class="o">`</span><span class="p">,</span><span class="w"> </span><span class="o">`</span><span class="n">StudentResult</span><span class="o">`</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="err">提分后</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="k">result</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><h3 id="where-条件子句">where 条件子句</h3>
<ul>
<li>检索数据中<strong>符合条件</strong>的值</li>
<li>搜索的条件有一个或者多个表达式组成！结果 布尔值</li>
</ul>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/images_sql/pic6.png"
        data-srcset="/images_sql/pic6.png, /images_sql/pic6.png 1.5x, /images_sql/pic6.png 2x"
        data-sizes="auto"
        alt="/images_sql/pic6.png"
        title="/images_sql/pic6.png" /></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="c1">-- ========= where =========
</span><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="o">`</span><span class="n">StudentNo</span><span class="o">`</span><span class="p">,</span><span class="w"> </span><span class="o">`</span><span class="n">StudentResult</span><span class="o">`</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="o">`</span><span class="k">result</span><span class="o">`</span><span class="w">
</span><span class="w"></span><span class="c1">-- 查询考试成绩 95 - 100 之间
</span><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="o">`</span><span class="n">StudentNo</span><span class="o">`</span><span class="p">,</span><span class="w"> </span><span class="o">`</span><span class="n">StudentResult</span><span class="o">`</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="o">`</span><span class="k">result</span><span class="o">`</span><span class="w"> 
</span><span class="w"></span><span class="k">WHERE</span><span class="w"> </span><span class="o">`</span><span class="n">studentresult</span><span class="o">`</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">95</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="o">`</span><span class="n">studentresult</span><span class="o">`</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">100</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c1">-- 模糊查询（区间） BETWEEN
</span><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="o">`</span><span class="n">StudentNo</span><span class="o">`</span><span class="p">,</span><span class="w"> </span><span class="o">`</span><span class="n">StudentResult</span><span class="o">`</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="o">`</span><span class="k">result</span><span class="o">`</span><span class="w"> 
</span><span class="w"></span><span class="k">WHERE</span><span class="w"> </span><span class="o">`</span><span class="n">studentresult</span><span class="o">`</span><span class="w"> </span><span class="k">BETWEEN</span><span class="w"> </span><span class="mi">95</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="mi">100</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c1">-- 除了9999号学生之外的同学的成绩
</span><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="o">`</span><span class="n">StudentNo</span><span class="o">`</span><span class="p">,</span><span class="w"> </span><span class="o">`</span><span class="n">StudentResult</span><span class="o">`</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="o">`</span><span class="k">result</span><span class="o">`</span><span class="w"> 
</span><span class="w"></span><span class="k">where</span><span class="w"> </span><span class="o">`</span><span class="n">StudentNo</span><span class="o">`</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">9999</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><h3 id="模糊查询比较运算符">模糊查询：比较运算符</h3>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/images_sql/pic7.png"
        data-srcset="/images_sql/pic7.png, /images_sql/pic7.png 1.5x, /images_sql/pic7.png 2x"
        data-sizes="auto"
        alt="/images_sql/pic7.png"
        title="/images_sql/pic7.png" /></p>
<h4 id="like">like</h4>
<ul>
<li>通配符只能在like 里用</li>
<li>通配符 <code>%</code> 代表任意个字符</li>
<li>通配符 <code>_</code> 代表一个字符</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="c1">-- ====== 模糊查询 LIKE =======
</span><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="o">`</span><span class="n">StudentNo</span><span class="o">`</span><span class="p">,</span><span class="w"> </span><span class="o">`</span><span class="n">studentname</span><span class="o">`</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="o">`</span><span class="n">student</span><span class="o">`</span><span class="w"> 
</span><span class="w"></span><span class="k">WHERE</span><span class="w"> </span><span class="o">`</span><span class="n">studentname</span><span class="o">`</span><span class="w"> </span><span class="k">LIKE</span><span class="w"> </span><span class="s1">&#39;刘%&#39;</span><span class="p">;</span><span class="w"> </span><span class="c1">-- 刘 开头
</span><span class="c1"></span><span class="w">
</span><span class="w"></span><span class="k">SELECT</span><span class="w"> </span><span class="o">`</span><span class="n">StudentNo</span><span class="o">`</span><span class="p">,</span><span class="w"> </span><span class="o">`</span><span class="n">studentname</span><span class="o">`</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="o">`</span><span class="n">student</span><span class="o">`</span><span class="w"> 
</span><span class="w"></span><span class="k">WHERE</span><span class="w"> </span><span class="o">`</span><span class="n">studentname</span><span class="o">`</span><span class="w"> </span><span class="k">LIKE</span><span class="w"> </span><span class="s1">&#39;刘_&#39;</span><span class="p">;</span><span class="w"> </span><span class="c1">-- 刘 后面只有一个字
</span><span class="c1"></span><span class="w">
</span><span class="w"></span><span class="k">SELECT</span><span class="w"> </span><span class="o">`</span><span class="n">StudentNo</span><span class="o">`</span><span class="p">,</span><span class="w"> </span><span class="o">`</span><span class="n">studentname</span><span class="o">`</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="o">`</span><span class="n">student</span><span class="o">`</span><span class="w"> 
</span><span class="w"></span><span class="k">WHERE</span><span class="w"> </span><span class="o">`</span><span class="n">studentname</span><span class="o">`</span><span class="w"> </span><span class="k">LIKE</span><span class="w"> </span><span class="s1">&#39;刘__&#39;</span><span class="p">;</span><span class="w"> </span><span class="c1">-- 刘 后面两个字
</span><span class="c1"></span><span class="w">
</span><span class="w"></span><span class="k">SELECT</span><span class="w"> </span><span class="o">`</span><span class="n">StudentNo</span><span class="o">`</span><span class="p">,</span><span class="w"> </span><span class="o">`</span><span class="n">studentname</span><span class="o">`</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="o">`</span><span class="n">student</span><span class="o">`</span><span class="w"> 
</span><span class="w"></span><span class="k">WHERE</span><span class="w"> </span><span class="o">`</span><span class="n">studentname</span><span class="o">`</span><span class="w"> </span><span class="k">LIKE</span><span class="w"> </span><span class="s1">&#39;%佳%&#39;</span><span class="p">;</span><span class="w"> </span><span class="c1">-- 名字中间带有佳的，考虑4字名字
</span></code></pre></td></tr></table>
</div>
</div><h4 id="in">in</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="c1">-- ======== in ========
</span><span class="c1">-- 查询1001，1002，1003 号学员的信息
</span><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="o">`</span><span class="n">StudentNo</span><span class="o">`</span><span class="p">,</span><span class="w"> </span><span class="o">`</span><span class="n">studentname</span><span class="o">`</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="o">`</span><span class="n">student</span><span class="o">`</span><span class="w"> 
</span><span class="w"></span><span class="k">WHERE</span><span class="w"> </span><span class="o">`</span><span class="n">StudentNo</span><span class="o">`</span><span class="w"> </span><span class="k">IN</span><span class="w"> </span><span class="p">(</span><span class="mi">1001</span><span class="p">,</span><span class="mi">1002</span><span class="p">,</span><span class="mi">1003</span><span class="p">);</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c1">-- 查询在北京的学生
</span><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="o">`</span><span class="n">StudentNo</span><span class="o">`</span><span class="p">,</span><span class="w"> </span><span class="o">`</span><span class="n">studentname</span><span class="o">`</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="o">`</span><span class="n">student</span><span class="o">`</span><span class="w"> 
</span><span class="w"></span><span class="k">where</span><span class="w"> </span><span class="o">`</span><span class="n">address</span><span class="o">`</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;安徽&#39;</span><span class="p">,</span><span class="s1">&#39;河南洛阳&#39;</span><span class="p">);</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><h4 id="null--not-null">null / not null</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="c1">-- ======== NULL / NOT NULL =========
</span><span class="c1">-- 查询地址为空的学生
</span><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="o">`</span><span class="n">StudentNo</span><span class="o">`</span><span class="p">,</span><span class="w"> </span><span class="o">`</span><span class="n">studentname</span><span class="o">`</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="o">`</span><span class="n">student</span><span class="o">`</span><span class="w"> 
</span><span class="w"></span><span class="k">where</span><span class="w"> </span><span class="o">`</span><span class="n">address</span><span class="o">`</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="w"> </span><span class="k">OR</span><span class="w"> </span><span class="o">`</span><span class="n">address</span><span class="o">`</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="k">NULL</span><span class="w"> 
</span><span class="w">
</span><span class="w"></span><span class="c1">-- 查询有出生日期的同学 不为空
</span><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="o">`</span><span class="n">StudentNo</span><span class="o">`</span><span class="p">,</span><span class="w"> </span><span class="o">`</span><span class="n">studentname</span><span class="o">`</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="o">`</span><span class="n">student</span><span class="o">`</span><span class="w"> 
</span><span class="w"></span><span class="k">WHERE</span><span class="w"> </span><span class="o">`</span><span class="n">borndate</span><span class="o">`</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">;</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><ul>
<li>注意<strong>字符串为空和null</strong>是不同的</li>
</ul>
<h3 id="联表查询">联表查询</h3>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/images_sql/pic8.png"
        data-srcset="/images_sql/pic8.png, /images_sql/pic8.png 1.5x, /images_sql/pic8.png 2x"
        data-sizes="auto"
        alt="/images_sql/pic8.png"
        title="/images_sql/pic8.png" /><br>
<img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/images_sql/pic9.png"
        data-srcset="/images_sql/pic9.png, /images_sql/pic9.png 1.5x, /images_sql/pic9.png 2x"
        data-sizes="auto"
        alt="/images_sql/pic9.png"
        title="/images_sql/pic9.png" /></p>
<ul>
<li>leftJoin</li>
<li>rightJoin</li>
<li>innerJoin</li>
<li>分析查询字段来自哪些表</li>
<li>确定使用那种查询</li>
</ul>
<h4 id="代码实战">代码实战</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-SQL" data-lang="SQL"><span class="c1">-- =========== 联表查询 join ==========
</span><span class="c1">-- 查询学号参加了考试的同学（学号，姓名，科目编号，分数）
</span><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">student</span><span class="w">
</span><span class="w"></span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="k">result</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="cm">/*
</span><span class="cm">1 分析查询字段来自哪些表
</span><span class="cm">2 确定使用那种查询
</span><span class="cm">3 确定交叉点（这两个表中，那个数据是相同的）
</span><span class="cm">判断的条件 ： 学生表中的 studentNo = 成绩表 studentNo
</span><span class="cm">*/</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c1">-- inner join 
</span><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">studentNo</span><span class="p">,</span><span class="w"> </span><span class="n">studentName</span><span class="p">,</span><span class="w"> </span><span class="n">SubjectNo</span><span class="p">,</span><span class="w"> </span><span class="n">StudentResult</span><span class="w">
</span><span class="w"></span><span class="k">FROM</span><span class="w"> </span><span class="n">student</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">s</span><span class="w"> 
</span><span class="w"></span><span class="k">INNER</span><span class="w"> </span><span class="k">join</span><span class="w"> </span><span class="k">result</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">r</span><span class="w">
</span><span class="w"></span><span class="k">WHERE</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">studentno</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">studentno</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c1">-- right join
</span><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">studentNo</span><span class="p">,</span><span class="w"> </span><span class="n">studentName</span><span class="p">,</span><span class="w"> </span><span class="n">SubjectNo</span><span class="p">,</span><span class="w"> </span><span class="n">StudentResult</span><span class="w">
</span><span class="w"></span><span class="k">FROM</span><span class="w"> </span><span class="n">student</span><span class="w"> </span><span class="n">s</span><span class="w"> 
</span><span class="w"></span><span class="k">RIGHT</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="k">result</span><span class="w"> </span><span class="n">r</span><span class="w">
</span><span class="w"></span><span class="k">ON</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">studentno</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">studentno</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c1">-- left join
</span><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">studentNo</span><span class="p">,</span><span class="w"> </span><span class="n">studentName</span><span class="p">,</span><span class="w"> </span><span class="n">SubjectNo</span><span class="p">,</span><span class="w"> </span><span class="n">StudentResult</span><span class="w">
</span><span class="w"></span><span class="k">FROM</span><span class="w"> </span><span class="n">student</span><span class="w"> </span><span class="n">s</span><span class="w"> 
</span><span class="w"></span><span class="k">LEFT</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="k">result</span><span class="w"> </span><span class="n">r</span><span class="w">
</span><span class="w"></span><span class="k">ON</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">studentno</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">studentno</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c1">-- 查询了参加考试的同学信息：学号，姓名，科目名，分数(三表查询)
</span><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">studentno</span><span class="p">,</span><span class="w"> </span><span class="n">studentname</span><span class="p">,</span><span class="w"> </span><span class="n">subjectname</span><span class="p">,</span><span class="w"> </span><span class="n">studentresult</span><span class="w">
</span><span class="w"></span><span class="k">FROM</span><span class="w"> </span><span class="n">student</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">s</span><span class="w">
</span><span class="w"></span><span class="k">RIGHT</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="k">result</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">r</span><span class="w">
</span><span class="w"></span><span class="k">ON</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">studentno</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">studentno</span><span class="w">
</span><span class="w"></span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="o">`</span><span class="n">subject</span><span class="o">`</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">sub</span><span class="w">
</span><span class="w"></span><span class="k">ON</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">subjectno</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sub</span><span class="p">.</span><span class="n">subjectno</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><h3 id="自连接">自连接</h3>
<ul>
<li>自己的表和自己的表连接，<strong>核心：一张表拆为两张一样的表即可</strong></li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="c1">-- 自连接 查询父子信息(把一张表看成两张一摸一样的表)
</span><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="o">`</span><span class="n">categoryname</span><span class="o">`</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="s1">&#39;父栏目&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="o">`</span><span class="n">categoryname</span><span class="o">`</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="s1">&#39;子栏目&#39;</span><span class="w"> 
</span><span class="w"></span><span class="k">FROM</span><span class="w"> </span><span class="o">`</span><span class="n">category</span><span class="o">`</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="o">`</span><span class="n">category</span><span class="o">`</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">b</span><span class="w"> 
</span><span class="w"></span><span class="k">WHERE</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">categoryid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">pid</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><h3 id="分页和排序">分页和排序</h3>
<h4 id="排序升序-asc-降序-desc">排序：升序 ASC 降序 DESC</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-SQL" data-lang="SQL"><span class="c1">-- 排序：升序 ASC 降序 DESC
</span><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="o">`</span><span class="n">studentno</span><span class="o">`</span><span class="p">,</span><span class="w"> </span><span class="o">`</span><span class="n">studentname</span><span class="o">`</span><span class="p">,</span><span class="w"> </span><span class="o">`</span><span class="n">subjectname</span><span class="o">`</span><span class="p">,</span><span class="w"> </span><span class="n">studentresult</span><span class="w">
</span><span class="w"></span><span class="k">FROM</span><span class="w"> </span><span class="n">student</span><span class="w"> </span><span class="n">s</span><span class="w">
</span><span class="w"></span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="o">`</span><span class="k">result</span><span class="o">`</span><span class="w"> </span><span class="n">r</span><span class="w">
</span><span class="w"></span><span class="k">on</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">studentno</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">studentno</span><span class="w">
</span><span class="w"></span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="o">`</span><span class="n">subject</span><span class="o">`</span><span class="w"> </span><span class="n">sub</span><span class="w">
</span><span class="w"></span><span class="k">on</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">subjectno</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sub</span><span class="p">.</span><span class="n">subjectno</span><span class="w">
</span><span class="w"></span><span class="k">WHERE</span><span class="w"> </span><span class="n">subjectname</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;数据库结构-1&#39;</span><span class="w">
</span><span class="w"></span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">studentresult</span><span class="w"> </span><span class="k">DESC</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><h4 id="分页">分页</h4>
<ul>
<li>缓解数据库压力</li>
<li>给人的体验更好，一次只显示一页</li>
<li>也有不分页的（拉不到底）&mdash;-瀑布流
&ndash; 分页：每页只显示五条数据<br>
&ndash; 语法：limit 当前页，页面的大小<br>
&ndash; LIMIT 0,5 第一页<br>
&ndash; LIMIT 5,5 第一页<br>
&ndash; LIMIT 10,5 第一页<br>
&ndash; （n-1）*pageSize，pageSize</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-SQL" data-lang="SQL"><span class="c1">-- 分页：每页只显示五条数据
</span><span class="c1">-- 语法：limit 当前页，页面的大小
</span><span class="c1">-- LIMIT 0,5 第一页
</span><span class="c1">-- LIMIT 5,5 第一页
</span><span class="c1">-- LIMIT 10,5 第一页
</span><span class="c1">-- （n-1）*pageSize，pageSize
</span><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="o">`</span><span class="n">studentno</span><span class="o">`</span><span class="p">,</span><span class="w"> </span><span class="o">`</span><span class="n">studentname</span><span class="o">`</span><span class="p">,</span><span class="w"> </span><span class="o">`</span><span class="n">subjectname</span><span class="o">`</span><span class="p">,</span><span class="w"> </span><span class="n">studentresult</span><span class="w">
</span><span class="w"></span><span class="k">FROM</span><span class="w"> </span><span class="n">student</span><span class="w"> </span><span class="n">s</span><span class="w">
</span><span class="w"></span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="o">`</span><span class="k">result</span><span class="o">`</span><span class="w"> </span><span class="n">r</span><span class="w">
</span><span class="w"></span><span class="k">on</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">studentno</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">studentno</span><span class="w">
</span><span class="w"></span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="o">`</span><span class="n">subject</span><span class="o">`</span><span class="w"> </span><span class="n">sub</span><span class="w">
</span><span class="w"></span><span class="k">on</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">subjectno</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sub</span><span class="p">.</span><span class="n">subjectno</span><span class="w">
</span><span class="w"></span><span class="k">WHERE</span><span class="w"> </span><span class="n">subjectname</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;数据库结构-1&#39;</span><span class="w">
</span><span class="w"></span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">studentresult</span><span class="w"> </span><span class="k">DESC</span><span class="w">
</span><span class="w"></span><span class="k">LIMIT</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="w">
</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c1">-- ========= 子查询和嵌套插叙 ==========
</span><span class="c1">-- 查询 JAVA第一学年 课程成绩排名前十的学生， 并且分数要大于80的学生信息（学号，姓名，课程名称，分数）
</span><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">studentno</span><span class="p">,</span><span class="w"> </span><span class="n">studentname</span><span class="p">,</span><span class="w"> </span><span class="n">subjectname</span><span class="p">,</span><span class="w"> </span><span class="n">studentresult</span><span class="w">
</span><span class="w"></span><span class="k">FROM</span><span class="w"> </span><span class="n">student</span><span class="w"> </span><span class="n">s</span><span class="w">
</span><span class="w"></span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="k">result</span><span class="w"> </span><span class="n">r</span><span class="w">
</span><span class="w"></span><span class="k">ON</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">studentno</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">studentno</span><span class="w">
</span><span class="w"></span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="o">`</span><span class="n">subject</span><span class="o">`</span><span class="w"> </span><span class="n">sub</span><span class="w">
</span><span class="w"></span><span class="k">on</span><span class="w"> </span><span class="n">sub</span><span class="p">.</span><span class="n">subjectno</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">subjectno</span><span class="w">
</span><span class="w"></span><span class="k">WHERE</span><span class="w"> </span><span class="n">subjectname</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;JAVA第一学年&#39;</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">studentresult</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">80</span><span class="w">
</span><span class="w"></span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">studentresult</span><span class="w"> </span><span class="k">DESC</span><span class="w">
</span><span class="w"></span><span class="k">LIMIT</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><h3 id="子查询">子查询</h3>
<ul>
<li>where （这个值是计算出来的）</li>
<li>本质：在where 语句中嵌套一个子查询语句</li>
<li>where (select * from s)</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-SQL" data-lang="SQL"><span class="c1">-- 查询 数据库结构-1 课程所有的考试结果（学号，科目编号，成绩），降序排列
</span><span class="c1">-- 方式一：使用连接查询
</span><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="n">studentno</span><span class="p">,</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">subjectno</span><span class="p">,</span><span class="w"> </span><span class="n">studentresult</span><span class="w">
</span><span class="w"></span><span class="k">FROM</span><span class="w"> </span><span class="k">result</span><span class="w"> </span><span class="n">r</span><span class="w">
</span><span class="w"></span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="o">`</span><span class="n">subject</span><span class="o">`</span><span class="w"> </span><span class="n">sub</span><span class="w">
</span><span class="w"></span><span class="k">ON</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">subjectno</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sub</span><span class="p">.</span><span class="n">subjectno</span><span class="w">
</span><span class="w"></span><span class="k">WHERE</span><span class="w"> </span><span class="n">subjectname</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;数据库结构-1&#39;</span><span class="w">
</span><span class="w"></span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">studentresult</span><span class="w"> </span><span class="k">DESC</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c1">-- 方式二：使用子查询(先执行里面，后执行外面)
</span><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="n">studentno</span><span class="p">,</span><span class="w"> </span><span class="n">subjectno</span><span class="p">,</span><span class="w"> </span><span class="n">studentresult</span><span class="w">
</span><span class="w"></span><span class="k">FROM</span><span class="w"> </span><span class="k">result</span><span class="w">
</span><span class="w"></span><span class="k">WHERE</span><span class="w"> </span><span class="n">subjectno</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="w">
</span><span class="w"></span><span class="c1">-- 查询所有 数据库结构-1 的学生的学号
</span><span class="c1"></span><span class="w">	</span><span class="k">SELECT</span><span class="w"> </span><span class="n">subjectno</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="o">`</span><span class="n">subject</span><span class="o">`</span><span class="w"> 
</span><span class="w">	</span><span class="k">WHERE</span><span class="w"> </span><span class="n">subjectname</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;数据库结构-1&#39;</span><span class="w">
</span><span class="w"></span><span class="p">)</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><h3 id="mysql函数">MySQL函数</h3>
<h4 id="常用函数">常用函数</h4>
<ul>
<li><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/images_sql/pic11.png"
        data-srcset="/images_sql/pic11.png, /images_sql/pic11.png 1.5x, /images_sql/pic11.png 2x"
        data-sizes="auto"
        alt="/images_sql/pic11.png"
        title="/images_sql/pic11.png" /></li>
<li><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/images_sql/pic12.png"
        data-srcset="/images_sql/pic12.png, /images_sql/pic12.png 1.5x, /images_sql/pic12.png 2x"
        data-sizes="auto"
        alt="/images_sql/pic12.png"
        title="/images_sql/pic12.png" /></li>
<li><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/images_sql/pic13.png"
        data-srcset="/images_sql/pic13.png, /images_sql/pic13.png 1.5x, /images_sql/pic13.png 2x"
        data-sizes="auto"
        alt="/images_sql/pic13.png"
        title="/images_sql/pic13.png" /></li>
<li><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/images_sql/pic14.png"
        data-srcset="/images_sql/pic14.png, /images_sql/pic14.png 1.5x, /images_sql/pic14.png 2x"
        data-sizes="auto"
        alt="/images_sql/pic14.png"
        title="/images_sql/pic14.png" /></li>
</ul>
<h3 id="聚合函数">聚合函数</h3>
<ul>
<li><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/images_sql/pic15.png"
        data-srcset="/images_sql/pic15.png, /images_sql/pic15.png 1.5x, /images_sql/pic15.png 2x"
        data-sizes="auto"
        alt="/images_sql/pic15.png"
        title="/images_sql/pic15.png" /></li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-SQL" data-lang="SQL"><span class="c1">-- ========= 聚合函数 ============
</span><span class="c1">-- 都能够统计表中的数据，查询有多少条记录
</span><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="k">COUNT</span><span class="p">(</span><span class="n">studentname</span><span class="p">)</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">student</span><span class="p">;</span><span class="w"> </span><span class="c1">-- count (指定列)，会忽略所有的null值
</span><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">student</span><span class="p">;</span><span class="w"> </span><span class="c1">-- count (*)，不会忽略所有的null值，本质计算行数，
</span><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="k">COUNT</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">student</span><span class="p">;</span><span class="w"> </span><span class="c1">-- count (1)，不会忽略所有的null值
</span><span class="c1"></span><span class="w">
</span><span class="w"></span><span class="c1">-- 提取总数，平均数，最大值，最小值
</span><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="k">SUM</span><span class="p">(</span><span class="n">studentresult</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="err">总和</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="k">result</span><span class="w">
</span><span class="w"></span><span class="k">SELECT</span><span class="w"> </span><span class="k">AVG</span><span class="p">(</span><span class="n">studentresult</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="err">平均分</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="k">result</span><span class="w">
</span><span class="w"></span><span class="k">SELECT</span><span class="w"> </span><span class="k">MAX</span><span class="p">(</span><span class="n">studentresult</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="err">最高分</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="k">result</span><span class="w">
</span><span class="w"></span><span class="k">SELECT</span><span class="w"> </span><span class="k">MIN</span><span class="p">(</span><span class="n">studentresult</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="err">最低分</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="k">result</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c1">-- 查询不同课程的平均分，最高分，最低分，平均分大于80的
</span><span class="c1">-- 核心：根据不同的课程进行分组
</span><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="n">subjectName</span><span class="p">,</span><span class="w"> </span><span class="k">AVG</span><span class="p">(</span><span class="n">StudentResult</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="err">平均分</span><span class="p">,</span><span class="w"> </span><span class="k">MAX</span><span class="p">(</span><span class="n">StudentResult</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="err">最高分</span><span class="p">,</span><span class="w"> </span><span class="k">MIN</span><span class="p">(</span><span class="n">StudentResult</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="err">最低分</span><span class="w">
</span><span class="w"></span><span class="k">FROM</span><span class="w"> </span><span class="k">result</span><span class="w"> </span><span class="n">r</span><span class="w">
</span><span class="w"></span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="o">`</span><span class="n">subject</span><span class="o">`</span><span class="w"> </span><span class="n">sub</span><span class="w">
</span><span class="w"></span><span class="k">on</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">subjectNo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sub</span><span class="p">.</span><span class="n">subjectNo</span><span class="w">
</span><span class="w"></span><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">subjectno</span><span class="w"> </span><span class="c1">-- 通过 学科编号来分组
</span><span class="c1"></span><span class="k">HAVING</span><span class="w"> </span><span class="err">平均分</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">80</span><span class="w">
</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><h2 id="数据库级别的-md5码加密">数据库级别的 MD5码加密</h2>
<ul>
<li>MD5 主要强调算法的复杂度和不可逆性</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-SQl" data-lang="SQl"><span class="c1">-- ========= 聚合函数 ============
</span><span class="c1">-- 都能够统计表中的数据，查询有多少条记录
</span><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="k">COUNT</span><span class="p">(</span><span class="n">studentname</span><span class="p">)</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">student</span><span class="p">;</span><span class="w"> </span><span class="c1">-- count (指定列)，会忽略所有的null值
</span><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">student</span><span class="p">;</span><span class="w"> </span><span class="c1">-- count (*)，不会忽略所有的null值，本质计算行数，
</span><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="k">COUNT</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">student</span><span class="p">;</span><span class="w"> </span><span class="c1">-- count (1)，不会忽略所有的null值
</span><span class="c1"></span><span class="w">
</span><span class="w"></span><span class="c1">-- 提取总数，平均数，最大值，最小值
</span><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="k">SUM</span><span class="p">(</span><span class="n">studentresult</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="err">总和</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="k">result</span><span class="w">
</span><span class="w"></span><span class="k">SELECT</span><span class="w"> </span><span class="k">AVG</span><span class="p">(</span><span class="n">studentresult</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="err">平均分</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="k">result</span><span class="w">
</span><span class="w"></span><span class="k">SELECT</span><span class="w"> </span><span class="k">MAX</span><span class="p">(</span><span class="n">studentresult</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="err">最高分</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="k">result</span><span class="w">
</span><span class="w"></span><span class="k">SELECT</span><span class="w"> </span><span class="k">MIN</span><span class="p">(</span><span class="n">studentresult</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="err">最低分</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="k">result</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c1">-- 查询不同课程的平均分，最高分，最低分，平均分大于80的
</span><span class="c1">-- 核心：根据不同的课程进行分组
</span><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="n">subjectName</span><span class="p">,</span><span class="w"> </span><span class="k">AVG</span><span class="p">(</span><span class="n">StudentResult</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="err">平均分</span><span class="p">,</span><span class="w"> </span><span class="k">MAX</span><span class="p">(</span><span class="n">StudentResult</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="err">最高分</span><span class="p">,</span><span class="w"> </span><span class="k">MIN</span><span class="p">(</span><span class="n">StudentResult</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="err">最低分</span><span class="w">
</span><span class="w"></span><span class="k">FROM</span><span class="w"> </span><span class="k">result</span><span class="w"> </span><span class="n">r</span><span class="w">
</span><span class="w"></span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="o">`</span><span class="n">subject</span><span class="o">`</span><span class="w"> </span><span class="n">sub</span><span class="w">
</span><span class="w"></span><span class="k">on</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">subjectNo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sub</span><span class="p">.</span><span class="n">subjectNo</span><span class="w">
</span><span class="w"></span><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">subjectno</span><span class="w"> </span><span class="c1">-- 通过 学科编号来分组
</span><span class="c1"></span><span class="k">HAVING</span><span class="w"> </span><span class="err">平均分</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">80</span><span class="w">
</span><span class="w">
</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c1">-- ========== 测试MD5码加密效果 ===========
</span><span class="c1"></span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">test_MD5</span><span class="p">(</span><span class="w">
</span><span class="w">	</span><span class="o">`</span><span class="n">id</span><span class="o">`</span><span class="w"> </span><span class="nb">int</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">
</span><span class="w">	</span><span class="o">`</span><span class="n">name</span><span class="o">`</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w">
</span><span class="w">	</span><span class="o">`</span><span class="n">pwd</span><span class="o">`</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w">
</span><span class="w">	</span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">(</span><span class="o">`</span><span class="n">id</span><span class="o">`</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="p">)</span><span class="n">ENGINE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">INNODB</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="n">CHARSET</span><span class="o">=</span><span class="n">utf8</span><span class="w">
</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c1">-- 明文密码 
</span><span class="c1"></span><span class="k">INSERT</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">test_MD5</span><span class="w"> </span><span class="k">VALUES</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;zhangsan&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;123456&#39;</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;lisi&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;123456&#39;</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;wangwu&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;123456&#39;</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c1">-- 加密
</span><span class="c1"></span><span class="k">UPDATE</span><span class="w"> </span><span class="n">test_MD5</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">pwd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MD5</span><span class="p">(</span><span class="n">pwd</span><span class="p">)</span><span class="w"> 
</span><span class="w"></span><span class="k">WHERE</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c1">-- 插入的时候加密
</span><span class="c1"></span><span class="k">INSERT</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">test_MD5</span><span class="w"> </span><span class="k">VALUES</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;zhangsan&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">MD5</span><span class="p">(</span><span class="s1">&#39;123456&#39;</span><span class="p">))</span><span class="w">
</span><span class="w"></span><span class="k">INSERT</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">test_MD5</span><span class="w"> </span><span class="k">VALUES</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;swagger&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">MD5</span><span class="p">(</span><span class="s1">&#39;123456&#39;</span><span class="p">))</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c1">-- 如何校验：将用户传递进来的密码，进行MD5加密，然后比对加密后值，因为是不可逆，所以没有解密
</span><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">test_MD5</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="o">`</span><span class="n">name</span><span class="o">`</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;swagger&#39;</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">pwd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MD5</span><span class="p">(</span><span class="s1">&#39;123456&#39;</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w">
</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><h2 id="事务的处理过程">事务的处理过程</h2>
<ul>
<li>关闭事务自动提交</li>
<li>开启一个事务</li>
<li>执行成功则提交，然后开启事务自动提交；执行失败则回滚到出事状态</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-SQL" data-lang="SQL"><span class="c1">-- == 手动处理事务 ==
</span><span class="c1"></span><span class="k">SET</span><span class="w"> </span><span class="n">autocommit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="c1">-- 关闭
</span><span class="c1">-- 事务开启
</span><span class="c1"></span><span class="k">START</span><span class="w"> </span><span class="k">TRANSACTION</span><span class="w"> </span><span class="c1">-- 标记一个事务的开始，从这个之后的SQL都在同一个事物内
</span><span class="c1"></span><span class="w">
</span><span class="w"></span><span class="k">INSERT</span><span class="w"> </span><span class="n">xx</span><span class="w">
</span><span class="w"></span><span class="k">INSERT</span><span class="w"> </span><span class="n">xx</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c1">-- 提交：持久化 （成功）
</span><span class="c1"></span><span class="k">COMMIT</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c1">-- 回滚：回到原来的状态 (失败)
</span><span class="c1"></span><span class="k">ROLLBACK</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c1">-- 事务的结束
</span><span class="c1"></span><span class="k">SET</span><span class="w"> </span><span class="n">autocommit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="c1">-- 开启
</span><span class="c1"></span><span class="w">
</span><span class="w"></span><span class="c1">-- 设置一个事务的保存点（了解）
</span><span class="c1"></span><span class="n">SAVEPOINT</span><span class="w"> </span><span class="err">保存点名</span><span class="w">
</span><span class="w"></span><span class="k">ROLLBACK</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">SAVEPOINT</span><span class="w"> </span><span class="err">保存点名</span><span class="w"> </span><span class="c1">-- 回滚到保存点
</span><span class="c1"></span><span class="n">RELEASE</span><span class="w"> </span><span class="n">SAVEPOINT</span><span class="w"> </span><span class="err">保存点名</span><span class="w"> </span><span class="c1">-- 撤销保存点
</span></code></pre></td></tr></table>
</div>
</div><h3 id="模拟场景">模拟场景</h3>
<ul>
<li>测试事务实现转账</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-SQL" data-lang="SQL"><span class="c1">-- ==== 测试事务实现转账 ======
</span><span class="c1"></span><span class="w">
</span><span class="w"></span><span class="c1">-- 转账
</span><span class="c1"></span><span class="k">CREATE</span><span class="w"> </span><span class="k">DATABASE</span><span class="w"> </span><span class="n">shop</span><span class="w"> </span><span class="nb">CHARACTER</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">utf8</span><span class="w"> </span><span class="k">COLLATE</span><span class="w"> </span><span class="n">utf8_general_ci</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">use</span><span class="w"> </span><span class="n">shop</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="o">`</span><span class="n">account</span><span class="o">`</span><span class="p">(</span><span class="w">
</span><span class="w">	</span><span class="o">`</span><span class="n">id</span><span class="o">`</span><span class="w"> </span><span class="nb">INT</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="n">auto_increment</span><span class="p">,</span><span class="w">
</span><span class="w">	</span><span class="o">`</span><span class="n">name</span><span class="o">`</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w">
</span><span class="w">	</span><span class="o">`</span><span class="n">money</span><span class="o">`</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">
</span><span class="w">	</span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="o">`</span><span class="n">id</span><span class="o">`</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="p">)</span><span class="n">ENGINE</span><span class="o">=</span><span class="n">INNODB</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="n">CHARSET</span><span class="o">=</span><span class="n">utf8</span><span class="w">
</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="k">INSERT</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">account</span><span class="p">(</span><span class="o">`</span><span class="n">name</span><span class="o">`</span><span class="p">,</span><span class="w"> </span><span class="o">`</span><span class="n">money</span><span class="o">`</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">2000</span><span class="p">.</span><span class="mi">00</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;B&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">10000</span><span class="p">.</span><span class="mi">00</span><span class="p">)</span><span class="w">
</span><span class="w">
</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c1">-- ==== 模拟转账（事务操作） ====
</span><span class="c1"></span><span class="k">set</span><span class="w"> </span><span class="n">autocommit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">-- 关闭自动提交 
</span><span class="c1"></span><span class="k">START</span><span class="w"> </span><span class="k">TRANSACTION</span><span class="w"> </span><span class="c1">-- 开启一个事务 (一组事务)
</span><span class="c1"></span><span class="k">update</span><span class="w"> </span><span class="n">account</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="n">money</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">money</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">500</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="o">`</span><span class="n">name</span><span class="o">`</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;A&#39;</span><span class="p">;</span><span class="w"> </span><span class="c1">-- A减500
</span><span class="c1"></span><span class="k">update</span><span class="w"> </span><span class="n">account</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="n">money</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">money</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">500</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="o">`</span><span class="n">name</span><span class="o">`</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;B&#39;</span><span class="p">;</span><span class="w"> </span><span class="c1">-- B加500
</span><span class="c1"></span><span class="w">
</span><span class="w"></span><span class="k">COMMIT</span><span class="p">;</span><span class="w">  </span><span class="c1">-- 提交事务，事务一旦提交，就会持久化, 无法再回滚
</span><span class="c1"></span><span class="k">ROLLBACK</span><span class="p">;</span><span class="w"> </span><span class="c1">-- 回滚
</span><span class="c1"></span><span class="w">
</span><span class="w"></span><span class="k">set</span><span class="w"> </span><span class="n">autocommit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="c1">-- 恢复自动提交（默认值）
</span><span class="c1"></span><span class="w">
</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><h2 id="索引">索引</h2>
<p>帮助MySQL 高效获取数据的数据结构，相当于一本书的目录</p>
<ul>
<li>主键索引（primary key）：唯一的标识，逐渐不可重复，<strong>只能有一个</strong>列作为主键</li>
<li>唯一索引（unique key）：避免重复的列出现，唯一索引可以重复，<strong>多个列都可以标识为唯一索引</strong></li>
<li>常规索引（normal key）：默认的，可以用key关键字来设置</li>
<li>全文索引（fullText）：在特定的数据库下才有，MyISAM，用于快速定位数据</li>
</ul>
<h3 id="基础语法">基础语法</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-SQL" data-lang="SQL"><span class="c1">-- ======= 索引的使用 ========
</span><span class="c1">-- 1. 在创建表的时候给字段增加索引
</span><span class="c1">-- 2. 创建完毕之后，增加索引
</span><span class="c1"></span><span class="w">
</span><span class="w"></span><span class="c1">-- 显示所有的索引信息
</span><span class="c1"></span><span class="k">SHOW</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">student</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c1">-- 增加一个全文索引
</span><span class="c1"></span><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">school</span><span class="p">.</span><span class="n">student</span><span class="w"> </span><span class="k">ADD</span><span class="w"> </span><span class="n">FULLTEXT</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="o">`</span><span class="n">studentname</span><span class="o">`</span><span class="p">(</span><span class="o">`</span><span class="n">studentname</span><span class="o">`</span><span class="p">);</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c1">-- EXPLAIN 分析SQL执行情况
</span><span class="c1"></span><span class="k">EXPLAIN</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">student</span><span class="p">;</span><span class="w"> </span><span class="c1">-- 非全文索引
</span><span class="c1"></span><span class="w">
</span><span class="w"></span><span class="k">EXPLAIN</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">student</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="k">MATCH</span><span class="p">(</span><span class="n">studentname</span><span class="p">)</span><span class="w"> </span><span class="n">against</span><span class="p">(</span><span class="s1">&#39;刘&#39;</span><span class="p">)</span><span class="w"> </span><span class="c1">-- 发现通过一次索引就找到了数据，
</span><span class="c1"></span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><h3 id="测试索引">测试索引</h3>
<ul>
<li>小数据量用处不大，大数据量的时候十分明显</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-SQL" data-lang="SQL"><span class="c1">-- ====== 测试索引 ====== 
</span><span class="c1">-- 测试一百万条索引的时间
</span><span class="c1"></span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="o">`</span><span class="n">app_user</span><span class="o">`</span><span class="p">(</span><span class="w">
</span><span class="w">	</span><span class="o">`</span><span class="n">id</span><span class="o">`</span><span class="w"> </span><span class="nb">BIGINT</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="n">UNSIGNED</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="n">auto_increment</span><span class="p">,</span><span class="w">
</span><span class="w">	</span><span class="o">`</span><span class="n">name</span><span class="o">`</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="w"> </span><span class="k">comment</span><span class="w"> </span><span class="s1">&#39;用户昵称&#39;</span><span class="p">,</span><span class="w">
</span><span class="w">	</span><span class="o">`</span><span class="n">email</span><span class="o">`</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">COMMENT</span><span class="w"> </span><span class="s1">&#39;用户邮箱&#39;</span><span class="p">,</span><span class="w">
</span><span class="w">	</span><span class="o">`</span><span class="n">phone</span><span class="o">`</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="w"> </span><span class="k">COMMENT</span><span class="w"> </span><span class="s1">&#39;手机号&#39;</span><span class="p">,</span><span class="w">
</span><span class="w">	</span><span class="o">`</span><span class="n">gender</span><span class="o">`</span><span class="w"> </span><span class="n">TINYINT</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="n">UNSIGNED</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;0&#39;</span><span class="w"> </span><span class="k">COMMENT</span><span class="w"> </span><span class="s1">&#39;性别（0:男， 1:女）&#39;</span><span class="p">,</span><span class="w">
</span><span class="w">	</span><span class="o">`</span><span class="n">password</span><span class="o">`</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">COMMENT</span><span class="w"> </span><span class="s1">&#39;密码&#39;</span><span class="p">,</span><span class="w">
</span><span class="w">	</span><span class="o">`</span><span class="n">age</span><span class="o">`</span><span class="w"> </span><span class="n">TINYINT</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;0&#39;</span><span class="w"> </span><span class="k">COMMENT</span><span class="w"> </span><span class="s1">&#39;年龄&#39;</span><span class="p">,</span><span class="w">
</span><span class="w">	</span><span class="o">`</span><span class="n">create_time</span><span class="o">`</span><span class="w"> </span><span class="n">datetime</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span><span class="w">
</span><span class="w">	</span><span class="o">`</span><span class="n">update_time</span><span class="o">`</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="k">UPDATE</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span><span class="w">
</span><span class="w">	</span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="o">`</span><span class="n">id</span><span class="o">`</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="p">)</span><span class="n">ENGINE</span><span class="o">=</span><span class="n">INNODB</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="n">charset</span><span class="o">=</span><span class="n">utf8mb4</span><span class="w"> </span><span class="k">COMMENT</span><span class="o">=</span><span class="s1">&#39;app用户表&#39;</span><span class="w">
</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c1">-- 写一个函数
</span><span class="c1"></span><span class="k">delimiter</span><span class="w"> </span><span class="err">$$</span><span class="w"> </span><span class="c1">-- 写函数之前必须要写，标志
</span><span class="c1"></span><span class="w">
</span><span class="w"></span><span class="k">CREATE</span><span class="w"> </span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">mock_data</span><span class="p">()</span><span class="w">
</span><span class="w"></span><span class="k">RETURNS</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">DETERMINISTIC</span><span class="w">
</span><span class="w"></span><span class="k">BEGIN</span><span class="w"> 
</span><span class="w">	</span><span class="k">DECLARE</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">1000000</span><span class="p">;</span><span class="w">
</span><span class="w">	</span><span class="k">DECLARE</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">
</span><span class="w">	
</span><span class="w">	</span><span class="n">WHILE</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="k">DO</span><span class="w">
</span><span class="w">		</span><span class="c1">-- 插入语句
</span><span class="c1"></span><span class="w">		</span><span class="k">INSERT</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">app_user</span><span class="p">(</span><span class="o">`</span><span class="n">name</span><span class="o">`</span><span class="p">,</span><span class="w"> </span><span class="o">`</span><span class="n">email</span><span class="o">`</span><span class="p">,</span><span class="w"> </span><span class="o">`</span><span class="n">phone</span><span class="o">`</span><span class="p">,</span><span class="w"> </span><span class="o">`</span><span class="n">gender</span><span class="o">`</span><span class="p">,</span><span class="w"> </span><span class="o">`</span><span class="n">password</span><span class="o">`</span><span class="p">,</span><span class="w"> </span><span class="o">`</span><span class="n">age</span><span class="o">`</span><span class="p">)</span><span class="w">
</span><span class="w">		</span><span class="k">VALUES</span><span class="p">(</span><span class="w">
</span><span class="w">			</span><span class="n">CONCAT</span><span class="p">(</span><span class="s1">&#39;用户&#39;</span><span class="p">,</span><span class="n">i</span><span class="p">),</span><span class="w">
</span><span class="w">			</span><span class="s1">&#39;123141142@qq.com&#39;</span><span class="p">,</span><span class="w">
</span><span class="w">			</span><span class="n">CONCAT</span><span class="p">(</span><span class="s1">&#39;18&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">FLOOR</span><span class="p">(</span><span class="n">RAND</span><span class="p">()</span><span class="o">*</span><span class="p">((</span><span class="mi">9999999999</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">100000000</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">100000000</span><span class="p">))),</span><span class="w">
</span><span class="w">			</span><span class="n">FLOOR</span><span class="p">(</span><span class="n">RAND</span><span class="p">()</span><span class="o">*</span><span class="mi">2</span><span class="p">),</span><span class="w">
</span><span class="w">			</span><span class="n">UUID</span><span class="p">(),</span><span class="w">
</span><span class="w">			</span><span class="n">FLOOR</span><span class="p">(</span><span class="n">RAND</span><span class="p">()</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span><span class="w">
</span><span class="w">		</span><span class="p">);</span><span class="w">
</span><span class="w">		</span><span class="k">set</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w">
</span><span class="w">	</span><span class="k">END</span><span class="w"> </span><span class="n">WHILE</span><span class="p">;</span><span class="w">
</span><span class="w">	</span><span class="k">RETURN</span><span class="w"> </span><span class="n">i</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="k">END</span><span class="p">;</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="k">SELECT</span><span class="w"> </span><span class="n">mock_data</span><span class="p">();</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">app_user</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="o">`</span><span class="n">name</span><span class="o">`</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;用户90130&#39;</span><span class="p">;</span><span class="w">  </span><span class="c1">-- 发现使用了0.3秒多
</span><span class="c1"></span><span class="w"> 
</span><span class="w"></span><span class="k">EXPLAIN</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">app_user</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="o">`</span><span class="n">name</span><span class="o">`</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;用户90130&#39;</span><span class="p">;</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="c1">-- 常规命名方式 id_表名_字段名
</span><span class="c1">-- 方式三 使用create index 。。。 on 。。。添加索引
</span><span class="c1"></span><span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="n">id_app_user_name</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">app_user</span><span class="p">(</span><span class="o">`</span><span class="n">name</span><span class="o">`</span><span class="p">);</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">app_user</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="o">`</span><span class="n">name</span><span class="o">`</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;用户90130&#39;</span><span class="p">;</span><span class="w">  </span><span class="c1">-- 创建索引之后，查询非常快，直接定位了数据的位置
</span><span class="c1"></span><span class="w"> 
</span><span class="w"></span><span class="k">EXPLAIN</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">app_user</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="o">`</span><span class="n">name</span><span class="o">`</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;用户90130&#39;</span><span class="p">;</span><span class="w"> </span><span class="c1">-- 查询的行数为1
</span></code></pre></td></tr></table>
</div>
</div><h3 id="索引原则">索引原则</h3>
<ul>
<li>索引不是越多越好</li>
<li>不要对进行变动数据加索引</li>
<li>小数据量的表不需要索引</li>
<li>索引一般加在用来查询的字段上</li>
</ul>
<h3 id="索引的数据结构">索引的数据结构</h3>
<ul>
<li>hash类型的索引</li>
<li>B-树：InnoDB默认数据结构</li>
</ul>
<h2 id="规范的数据库设计">规范的数据库设计</h2>
<h3 id="糟糕的数据库设计">糟糕的数据库设计</h3>
<ul>
<li>数据冗余，浪费空间</li>
<li>数据库插入和删除都会麻烦，异常（屏蔽使用物理外键）</li>
<li>程序性能差</li>
</ul>
<h3 id="良好的数据库设计">良好的数据库设计</h3>
<ul>
<li>节省内存空间</li>
<li>保证数据库的完整性</li>
<li>方便我们开发系统</li>
</ul>
<h3 id="软件开发过程中关于数据库的设计">软件开发过程中，关于数据库的设计</h3>
<ul>
<li>分析需求：分析业务和需要处理的数据库需求</li>
<li>概要设计：设计关系图 E-R 图</li>
</ul>
<h3 id="设计数据库的步骤个人博客为例">设计数据库的步骤（个人博客为例）</h3>
<h4 id="收集信息分析需求">收集信息，分析需求</h4>
<ul>
<li>用户表</li>
<li>分类表</li>
<li>文章表</li>
<li>评论表</li>
<li>友情链接表</li>
<li>自定义表</li>
<li>说说表</li>
</ul>
<h4 id="概要设计e-r图">概要设计，E-R图</h4>
<ul>
<li>标识实体，将需求落地到每个字段</li>
<li>标识实体之间的关系</li>
</ul>
<h2 id="jdbc">JDBC</h2>
<h3 id="数据库驱动">数据库驱动</h3>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/images_sql/pic17.png"
        data-srcset="/images_sql/pic17.png, /images_sql/pic17.png 1.5x, /images_sql/pic17.png 2x"
        data-sizes="auto"
        alt="/images_sql/pic17.png"
        title="/images_sql/pic17.png" /></p>
<ul>
<li>程序会通过数据库驱动和数据库进行操作</li>
</ul>
<h3 id="jdbc-1">JDBC</h3>
<ul>
<li>SUN公司简化开发人员对于数据库的统一操作，提供了一个Java操作规范，俗称JDBC，这些规范由具体的厂商去做</li>
<li>对于开发人员，只需要掌握JDBC的接口操作即可
<img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/images_sql/pic18.png"
        data-srcset="/images_sql/pic18.png, /images_sql/pic18.png 1.5x, /images_sql/pic18.png 2x"
        data-sizes="auto"
        alt="/images_sql/pic18.png"
        title="/images_sql/pic18.png" /></li>
<li>java.sql</li>
<li>javax.sql</li>
<li>mysql-connector-java.jar</li>
<li>还需要导入一个数据库驱动包</li>
</ul>
<h3 id="第一个jdbc-程序">第一个JDBC 程序</h3>
<ul>
<li>创建测试数据库</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-SQL" data-lang="SQL"><span class="k">CREATE</span><span class="w"> </span><span class="k">DATABASE</span><span class="w"> </span><span class="o">`</span><span class="n">jdbcStudy</span><span class="o">`</span><span class="w"> </span><span class="nb">CHARACTER</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="n">utf8</span><span class="w"> </span><span class="k">COLLATE</span><span class="w"> </span><span class="n">utf8_general_ci</span><span class="p">;</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="n">USE</span><span class="w"> </span><span class="o">`</span><span class="n">jdbcStudy</span><span class="o">`</span><span class="p">;</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="o">`</span><span class="n">users</span><span class="o">`</span><span class="p">(</span><span class="w">
</span><span class="w"> </span><span class="o">`</span><span class="n">id</span><span class="o">`</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span><span class="w">
</span><span class="w"> </span><span class="o">`</span><span class="n">NAME</span><span class="o">`</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">40</span><span class="p">),</span><span class="w">
</span><span class="w"> </span><span class="o">`</span><span class="n">PASSWORD</span><span class="o">`</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">40</span><span class="p">),</span><span class="w">
</span><span class="w"> </span><span class="o">`</span><span class="n">email</span><span class="o">`</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">60</span><span class="p">),</span><span class="w">
</span><span class="w"> </span><span class="n">birthday</span><span class="w"> </span><span class="nb">DATE</span><span class="w">
</span><span class="w"></span><span class="p">);</span><span class="w">
</span><span class="w">
</span><span class="w"></span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="o">`</span><span class="n">users</span><span class="o">`</span><span class="p">(</span><span class="o">`</span><span class="n">id</span><span class="o">`</span><span class="p">,</span><span class="o">`</span><span class="n">NAME</span><span class="o">`</span><span class="p">,</span><span class="o">`</span><span class="n">PASSWORD</span><span class="o">`</span><span class="p">,</span><span class="o">`</span><span class="n">email</span><span class="o">`</span><span class="p">,</span><span class="o">`</span><span class="n">birthday</span><span class="o">`</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="k">VALUES</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="s1">&#39;zhangsan&#39;</span><span class="p">,</span><span class="s1">&#39;123456&#39;</span><span class="p">,</span><span class="s1">&#39;zs@sina.com&#39;</span><span class="p">,</span><span class="s1">&#39;1980-12-04&#39;</span><span class="p">),</span><span class="w">
</span><span class="w"></span><span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span><span class="s1">&#39;lisi&#39;</span><span class="p">,</span><span class="s1">&#39;123456&#39;</span><span class="p">,</span><span class="s1">&#39;lisi@sina.com&#39;</span><span class="p">,</span><span class="s1">&#39;1981-12-04&#39;</span><span class="p">),</span><span class="w">
</span><span class="w"></span><span class="p">(</span><span class="s1">&#39;3&#39;</span><span class="p">,</span><span class="s1">&#39;wangwu&#39;</span><span class="p">,</span><span class="s1">&#39;123456&#39;</span><span class="p">,</span><span class="s1">&#39;wangwu@sina.com&#39;</span><span class="p">,</span><span class="s1">&#39;1979-12-04&#39;</span><span class="p">)</span><span class="err">；</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><ul>
<li>导入数据库驱动
<img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/images_sql/pic19.png"
        data-srcset="/images_sql/pic19.png, /images_sql/pic19.png 1.5x, /images_sql/pic19.png 2x"
        data-sizes="auto"
        alt="/images_sql/pic19.png"
        title="/images_sql/pic19.png" /></li>
<li>编写测试代码</li>
</ul>
<h4 id="代码实战-1">代码实战</h4>
<ul>
<li>加载驱动</li>
<li>用户信息和URL</li>
<li>连接成功， 数据库对象，代表数据库拿到数据库对象</li>
<li>执行SQL对象</li>
<li>执行SQL对象，去执行SQL，可能存在结果，查看返回结果</li>
<li>释放连接</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Java" data-lang="Java"><span class="kn">package</span> <span class="nn">com.swagger.lesson01</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.sql.*</span><span class="o">;</span>

<span class="c1">// 第一个JDBC程序
</span><span class="c1"></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">JdbcFirstDemo</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">ClassNotFoundException</span><span class="o">,</span> <span class="n">SQLException</span> <span class="o">{</span>
        <span class="c1">// 1 加载驱动
</span><span class="c1"></span>        <span class="n">Class</span><span class="o">.</span><span class="na">forName</span><span class="o">(</span><span class="s">&#34;com.mysql.jdbc.Driver&#34;</span><span class="o">);</span> <span class="c1">// 固定写法，
</span><span class="c1"></span>
        <span class="c1">// 2 用户信息和URL
</span><span class="c1"></span>        <span class="n">String</span> <span class="n">url</span> <span class="o">=</span> <span class="s">&#34;jdbc:mysql://localhost:3306/jdbcstudy?useUnicode=true&amp;characterEncoding=utf8&amp;useSSL=true&#34;</span><span class="o">;</span>
        <span class="n">String</span> <span class="n">username</span> <span class="o">=</span> <span class="s">&#34;root&#34;</span><span class="o">;</span>
        <span class="n">String</span> <span class="n">password</span> <span class="o">=</span> <span class="s">&#34;Wby785403310&#34;</span><span class="o">;</span>

        <span class="c1">// 3 连接成功， 数据库对象，代表数据库拿到数据库对象
</span><span class="c1"></span>        <span class="n">Connection</span> <span class="n">connection</span> <span class="o">=</span> <span class="n">DriverManager</span><span class="o">.</span><span class="na">getConnection</span><span class="o">(</span><span class="n">url</span><span class="o">,</span> <span class="n">username</span><span class="o">,</span> <span class="n">password</span><span class="o">);</span>

        <span class="c1">// 4 执行SQL对象
</span><span class="c1"></span>        <span class="n">Statement</span> <span class="n">statement</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="na">createStatement</span><span class="o">();</span>

        <span class="c1">// 5 执行SQL对象，去执行SQL，可能存在结果，查看返回结果
</span><span class="c1"></span>        <span class="n">String</span> <span class="n">sql</span> <span class="o">=</span> <span class="s">&#34;SELECT * FROM users;&#34;</span><span class="o">;</span>
        <span class="n">ResultSet</span> <span class="n">resultSet</span> <span class="o">=</span> <span class="n">statement</span><span class="o">.</span><span class="na">executeQuery</span><span class="o">(</span><span class="n">sql</span><span class="o">);</span> <span class="c1">// 执行之后返回的结果集,结果集中封装了全部的查询结果
</span><span class="c1"></span>
        <span class="k">while</span> <span class="o">(</span><span class="n">resultSet</span><span class="o">.</span><span class="na">next</span><span class="o">()){</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;id = &#34;</span> <span class="o">+</span> <span class="n">resultSet</span><span class="o">.</span><span class="na">getObject</span><span class="o">(</span><span class="s">&#34;id&#34;</span><span class="o">));</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;name = &#34;</span> <span class="o">+</span> <span class="n">resultSet</span><span class="o">.</span><span class="na">getObject</span><span class="o">(</span><span class="s">&#34;NAME&#34;</span><span class="o">));</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;pwd = &#34;</span> <span class="o">+</span> <span class="n">resultSet</span><span class="o">.</span><span class="na">getObject</span><span class="o">(</span><span class="s">&#34;PASSWORD&#34;</span><span class="o">));</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;email = &#34;</span> <span class="o">+</span> <span class="n">resultSet</span><span class="o">.</span><span class="na">getObject</span><span class="o">(</span><span class="s">&#34;email&#34;</span><span class="o">));</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;birth = &#34;</span> <span class="o">+</span> <span class="n">resultSet</span><span class="o">.</span><span class="na">getObject</span><span class="o">(</span><span class="s">&#34;birthday&#34;</span><span class="o">));</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;======================&#34;</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="c1">// 6 释放连接
</span><span class="c1"></span>        <span class="n">resultSet</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
        <span class="n">statement</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
        <span class="n">connection</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>


    <span class="o">}</span>
<span class="o">}</span>

</code></pre></td></tr></table>
</div>
</div></div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>更新于 2022-06-15</span>
            </div>
            <div class="post-info-license"></div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md"><span>
                            <a class="link-to-markdown" href="/mysql_learning4/index.md" target="_blank">阅读原始文档</a>
                        </span></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="分享到 Twitter" data-sharer="twitter" data-url="https://swaggerwei.github.io/mysql_learning4/" data-title="MySQL学习4" data-via="xxxx" data-hashtags="SQL,mysql,navicat"><i class="fab fa-twitter fa-fw"></i></a><a href="javascript:void(0);" title="分享到 Facebook" data-sharer="facebook" data-url="https://swaggerwei.github.io/mysql_learning4/" data-hashtag="SQL"><i class="fab fa-facebook-square fa-fw"></i></a><a href="javascript:void(0);" title="分享到 WhatsApp" data-sharer="whatsapp" data-url="https://swaggerwei.github.io/mysql_learning4/" data-title="MySQL学习4" data-web><i class="fab fa-whatsapp fa-fw"></i></a><a href="javascript:void(0);" title="分享到 Line" data-sharer="line" data-url="https://swaggerwei.github.io/mysql_learning4/" data-title="MySQL学习4"><i data-svg-src="/lib/simple-icons/icons/line.min.svg"></i></a><a href="javascript:void(0);" title="分享到 微博" data-sharer="weibo" data-url="https://swaggerwei.github.io/mysql_learning4/" data-title="MySQL学习4"><i class="fab fa-weibo fa-fw"></i></a><a href="javascript:void(0);" title="分享到 Myspace" data-sharer="myspace" data-url="https://swaggerwei.github.io/mysql_learning4/" data-title="MySQL学习4" data-description=""><i data-svg-src="/lib/simple-icons/icons/myspace.min.svg"></i></a><a href="javascript:void(0);" title="分享到 Blogger" data-sharer="blogger" data-url="https://swaggerwei.github.io/mysql_learning4/" data-title="MySQL学习4" data-description=""><i class="fab fa-blogger fa-fw"></i></a><a href="javascript:void(0);" title="分享到 Evernote" data-sharer="evernote" data-url="https://swaggerwei.github.io/mysql_learning4/" data-title="MySQL学习4"><i class="fab fa-evernote fa-fw"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/sql/">SQL</a>,&nbsp;<a href="/tags/mysql/">mysql</a>,&nbsp;<a href="/tags/navicat/">navicat</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">返回</a></span>&nbsp;|&nbsp;<span><a href="/">主页</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/leetcode_recite3/" class="prev" rel="prev" title="Leetcode全速通3"><i class="fas fa-angle-left fa-fw"></i>Leetcode全速通3</a>
            <a href="/mysql_learning5/" class="next" rel="next" title="MySQL学习5">MySQL学习5<i class="fas fa-angle-right fa-fw"></i></a></div>
</div>
<div id="comments"></div></article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">由 <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.90.1">Hugo</a> 强力驱动 | 主题 - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw"></i> LoveIt</a>
                </div><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2019 - 2022</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank">Boyan Wei</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="回到顶部">
                <i class="fas fa-arrow-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="查看评论">
                <i class="fas fa-comment fa-fw"></i>
            </a>
        </div><link rel="stylesheet" href="/lib/lightgallery/lightgallery.min.css"><link rel="stylesheet" href="/lib/katex/katex.min.css"><link rel="stylesheet" href="/lib/katex/copy-tex.min.css"><link rel="stylesheet" href="/lib/cookieconsent/cookieconsent.min.css"><script type="text/javascript" src="/lib/smooth-scroll/smooth-scroll.min.js"></script><script type="text/javascript" src="/lib/autocomplete/autocomplete.min.js"></script><script type="text/javascript" src="/lib/lunr/lunr.min.js"></script><script type="text/javascript" src="/lib/lunr/lunr.stemmer.support.min.js"></script><script type="text/javascript" src="/lib/lunr/lunr.zh.min.js"></script><script type="text/javascript" src="/lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="/lib/lightgallery/lightgallery.min.js"></script><script type="text/javascript" src="/lib/lightgallery/lg-thumbnail.min.js"></script><script type="text/javascript" src="/lib/lightgallery/lg-zoom.min.js"></script><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="/lib/sharer/sharer.min.js"></script><script type="text/javascript" src="/lib/katex/katex.min.js"></script><script type="text/javascript" src="/lib/katex/auto-render.min.js"></script><script type="text/javascript" src="/lib/katex/copy-tex.min.js"></script><script type="text/javascript" src="/lib/katex/mhchem.min.js"></script><script type="text/javascript" src="/lib/cookieconsent/cookieconsent.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"复制到剪贴板","maxShownLines":10},"comment":{},"cookieconsent":{"content":{"dismiss":"同意","link":"了解更多","message":"本网站使用 Cookies 来改善您的浏览体验."},"enable":true,"palette":{"button":{"background":"#f0f0f0"},"popup":{"background":"#1aa3ff"}},"theme":"edgeless"},"lightGallery":{"actualSize":false,"exThumbImage":"data-thumbnail","hideBarsDelay":2000,"selector":".lightgallery","speed":400,"thumbContHeight":80,"thumbWidth":80,"thumbnail":true},"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false},"search":{"highlightTag":"em","lunrIndexURL":"/index.json","lunrLanguageCode":"zh","lunrSegmentitURL":"/lib/lunr/lunr.segmentit.js","maxResultLength":10,"noResultsFound":"没有找到结果","snippetLength":50,"type":"lunr"}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
